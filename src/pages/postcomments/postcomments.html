
<ion-header>

  <ion-navbar color="teal">
    <ion-title>postcomments</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<ion-grid *ngFor="let comment of comments,let i = index">
		<ion-row>
			<ion-col col-2>				
				<ion-avatar>
					<img style="height: 40px;width: 40px" [src]="comment.profileimage" *ngIf="comment.profileimage">
				</ion-avatar>
			</ion-col>
			<ion-col>
				<h5 style="margin: 0px">{{comment.username}}</h5>
				<p style="margin: 2px">{{comment.data}}</p>
				<ion-row>
					<ion-col>
						<ion-note>1 hour ago</ion-note>
					</ion-col>
					<ion-col col-3>
						<ion-icon color="teal" name="thumbs-up"></ion-icon>&nbsp;100
					</ion-col>
					<ion-col col-2>
						<button>Like</button>
					</ion-col>
					<ion-col col-3>
						<button (click)="gotocommentReplies(comment.$key)" >Reply</button>
					</ion-col>
				</ion-row>
				<button *ngIf="lastcomment[i] && childcomments[i] > 1" (click)="gotocommentReplies(comment.$key)">View previous {{childcomments[i] - 1}} replies</button>
				<ion-item *ngIf="lastcomment[i]" style="padding: 0px">
					<ion-avatar item-left style="margin: 8px 0px 0px">
						<img style="height: 30px;width: 30px;border-radius: 0px" [src]="lastcomment[i].profileimage" *ngIf="lastcomment[i].profileimage" >
					</ion-avatar>
					<p style="margin: 0px">
					<b>{{lastcomment[i].username}}</b>&nbsp;{{lastcomment[i].data}}</p>
				</ion-item>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
<ion-footer>
	<ion-grid>
		<ion-row style="height: 40px;background-color: #f5f5f5">
			<ion-col col-2>
				<ion-avatar>
					<img style="height: 30px;width: 30px" [src]="profileimage" *ngIf="profileimage">
				</ion-avatar>
			</ion-col>
			<ion-col style="padding: 0px">
				<ion-textarea style="margin-top: 10px" value="commentdata" [(ngModel)]="commentdata" placeholder="What you think ?"></ion-textarea>
			</ion-col>
			<ion-col col-2 *ngIf="commentdata" style="text-align: right" >
				<ion-icon color="teal" (click)="addparentComment()" name="send" style="font-size: 2.0em" ></ion-icon>
			</ion-col>
			<ion-col col-2 *ngIf="!commentdata" style="text-align: right">
				<ion-icon color="teal" name="happy" style="font-size: 2.0em" ></ion-icon>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-footer>
